---
title: 'Initialize Payment'
description: ''
---

The `initiatePayment` method is used to start the payment process. It takes payment details and handles the complete payment flow through the Acount system.

***

## **Method Signature**

```typescript
await account.initiatePayment({
  amount: number,
  referenceNumber: string,
  onSuccess: (status: { success: true }) => void
})
```

***

## **Parameters**

| Parameter         | Type                                  | Required | Description                                                  |
| ----------------- | ------------------------------------- | -------- | ------------------------------------------------------------ |
| `amount`          | `number`                              | âœ… Yes    | The payment amount in the currency's base unit (e.g., DKK)                                     |
| `referenceNumber` | `string`                              | âœ… Yes    | A unique reference number for the payment transaction.       |
| `onSuccess`       | `(status: { success: true }) => void` | âœ… Yes    | A callback function executed when the payment is successful. |

* **`amount`**: The transaction amount (should be greater than `0`).
* **`referenceNumber`**: A unique identifier to track the payment.
* **`onSuccess`**: A function that receives `{ success: true }` when the payment completes successfully.



## **Example Usage**

import { useEffect, useState } from 'react'
import Acount from '@acountpay/sdk'

const PaymentComponent = () => {
  const [account, setAccount] = useState<Acount | null>(null)

  useEffect(() => {
    const sdk = new Acount({
      clientId: "your-client-id-here"
    })
    setAccount(sdk)
  }, [])

  const handlePayment = async () => {
    if (!account) return

    try {
      await account.initiatePayment({
        amount: 25.99, // Amount in DKK
        referenceNumber: "ORDER-12345",
        onSuccess: (status: { success: true }) => {
          console.log("Payment completed successfully!", status)
          // Handle successful payment
        }
      })
    } catch (error) {
      console.error("Payment failed:", error)
      // Handle payment error
    }
  }

  return (
    <button onClick={handlePayment}>
      Pay with Acount
    </button>
  )
}

***

## **Succes Callback**
The 'onSuccess' callback receives a status object when payment is completed:

onSuccess: (status: { success: true }) => {
  // Payment was successful
  console.log("Payment completed!")
  // Update UI, redirect user, etc.
}


***

## **Handling Errors**

Always wrap initiatePayment calls in try-catch blocks:

try {
  await account.initiatePayment({
    amount: 10.00,
    referenceNumber: "ORDER-123",
    onSuccess: (status) => {
      console.log("Success!", status)
    }
  })
} catch (error) {
  console.error("Payment initialization failed:", error)
  // Show error message to user
}

***

## **Key Takeaways**

âœ” Object-based parameters - Pass all parameters as a single object

âœ” Async/await pattern - Always use await with initiatePayment

âœ” Error handling - Wrap calls in try-catch blocks

âœ” Success callback - Handle successful payments in the onSuccess function

The initiatePayment method handles the complete payment flow, from initialization to completion. ðŸš€

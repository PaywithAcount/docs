---
title: 'Initialize Payment'
description: 'Accept payments using the Acount SDK'
---

The `initiatePayment` method creates and processes a payment through the Acount system. This method handles the complete payment flow including customer authentication, payment processing, and success callbacks.

***

## **Example**

```typescript
import React, { useState, useEffect } from "react";
import Acount from '@acountpay/sdk';

export default function App() {
  const [acount, setAcount] = useState<Acount | null>(null);

  useEffect(() => {
    const sdk = new Acount({
      clientId: process.env.NEXT_PUBLIC_ACOUNT_CLIENT_ID!
    });
    setAcount(sdk);
  }, []);

  const handlePayment = async () => {
    if (!acount) return;
    
    await acount.initiatePayment({
      amount: 1,
      referenceNumber: 'REF-123',
      onSuccess: (status: { success: true }) => {
        console.log('Payment successful:', status);
      }
    });
  };

  return (
    <button onClick={handlePayment}>
      Pay with Acount
    </button>
  );
}
```

***

## **Parameters**

| Parameter         | Type                                  | Required | Description                                                  |
| ----------------- | ------------------------------------- | -------- | ------------------------------------------------------------ |
| `amount`          | `number`                              | âœ… Yes    | The payment amount in cents (must be a positive integer)                                  |
| `referenceNumber` | `string`                              | âœ… Yes    | A unique reference number for the payment transaction.       |
| `onSuccess`       | `(status: { success: true }) => void` | âœ… Yes    | A callback function executed when the payment is successful. |

* **`amount`**: The transaction amount (should be greater than `0`).
* **`referenceNumber`**: A unique identifier to track the payment.
* **`onSuccess`**: A function that receives `{ success: true }` when the payment completes successfully.

***

## **Testing**

For testing purposes, only use amounts of 1 unit of currency (1â‚¬, 1kr, etc.). Payments are domestic only - Denmark uses kroner, Germany uses euros.

***

## **Handling Errors**

Always wrap initiatePayment calls in try-catch blocks:

```typescript
const handlePayment = async () => {
  if (!acount) return;
  
  try {
    await acount.initiatePayment({
      amount: 1,
      referenceNumber: 'REF-123',
      onSuccess: (status: { success: true }) => {
        console.log('Payment successful:', status);
      }
    });
  } catch (error: any) {
    if (error.message.includes('Client ID')) {
      console.error('Configuration error:', error);
    } else if (error.message.includes('amount')) {
      console.error('Invalid amount:', error);
    } else {
      console.error('Payment error:', error);
    }
  }
};
```

***

## **Best Practices**

ðŸ’¡ Amount Handling
Store prices in cents to avoid floating-point errors
Validate amounts on both client and server side
Example: 25.99 DKK = 2599 cents

ðŸ’¡ Reference Numbers
Make them unique and meaningful
Include prefixes for easy identification: ORDER-, INV-, SUB-
Keep them under 50 characters for compatibility

ðŸ’¡ Error Recovery
Implement retry logic for network failures
Provide clear error messages to users
Log errors for debugging and monitoring

***

## **Integration Checklist**

âœ… Setup: Acount SDK initialized with valid clientId

âœ… Amount Format: Using cents (integers) not decimals

âœ… Reference Numbers: Unique identifiers for each transaction 

âœ… Success Handling: Business logic in onSuccess callback 

âœ… Error Handling: Try-catch blocks with user feedback 

âœ… Testing: Test with small amounts in sandbox environment

***

## **Key Takeaways**

âœ” Object-based parameters - Pass all parameters as a single object

âœ” Async/await pattern - Always use await with initiatePayment

âœ” Error handling - Wrap calls in try-catch blocks

âœ” Success callback - Handle successful payments in the onSuccess function

The initiatePayment method handles the complete payment flow, from initialization to completion. ðŸš€

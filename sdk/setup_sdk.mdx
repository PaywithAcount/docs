---
title: "Setup SDK"
description: "Configure the AcountPay SDK with your merchant credentials"
---

Before making any method calls, initialize the SDK with your Client ID and configure the API base URL at runtime.

## Constructor

Create an instance with your clientId. You can optionally pass apiBaseUrl, authToken, env, and other options.

### ESM/CommonJS Usage

```javascript
import AcountPay from '@acountpay/sdk';

const sdk = new AcountPay({
  clientId: process.env.REACT_APP_ACOUNTPAY_CLIENT_ID,
  env: process.env.REACT_APP_ACOUNTPAY_ENV || 'production',
});
```

### UMD Usage

```html
<script>
  window.__ACOUNTPAY_API_URL__ = 'https://acount-apis-7886a9e16dc3.herokuapp.com';
  window.__ACOUNTPAY_ENV__ = 'sandbox';
</script>
<script src="https://unpkg.com/@acountpay/sdk@1.0.2/dist/acount.umd.js"></script>
<script>
  const sdk = new Acount({
    clientId: 'your-client-id',
    env: 'sandbox'
  });
</script>
```

### Supported Options

| Option | Type | Required | Description |
|--------|------|----------|-------------|
| clientId | string | Yes | Your AcountPay Client ID from the merchant dashboard |
| env | string | No | Environment: sandbox or production (default: production) |
| apiBaseUrl | string | No | API base URL ('https://acount-apis-7886a9e16dc3.herokuapp.com') |
| redirectUri | string | No | Default redirect URI for payments |
| authToken | string | No | Bearer token for authentication |
| extraHeaders | object | No | Additional headers to send with requests |

## Callback URL Requirements
- Must be a valid HTTPS URL (except for localhost during development)
- Should be accessible from the user's browser
- Recommended format: `https://yourdomain.com/payment-callback`
- Avoid using localhost URLs in production

## Runtime Configuration (Recommended)

Set the API base URL and environment at runtime to avoid rebuilds and switch environments easily.

### HTML Runtime Configuration

```html
<script>
  window.__ACOUNTPAY_API_URL__ = 'https://acount-apis-7886a9e16dc3.herokuapp.com';
  window.__ACOUNTPAY_ENV__ = 'sandbox';
</script>
```

The SDK will automatically use these runtime values when present. You can still override them via the constructor options.

### Environment Variables (React Example)

```bash
REACT_APP_ACOUNTPAY_CLIENT_ID=your-client-id
REACT_APP_ACOUNTPAY_ENV=sandbox
REACT_APP_ACOUNTPAY_REDIRECT_URI=https://www.acountpay.com//payment-callback
```

Usage in React:

```javascript
import AcountPay from '@acountpay/sdk';

const sdk = new AcountPay({
  clientId: process.env.REACT_APP_ACOUNTPAY_CLIENT_ID,
  env: process.env.REACT_APP_ACOUNTPAY_ENV || 'production',
});
```

## Complete Setup Examples

### Simple HTML Page

```html
<!DOCTYPE html>
<html>
<head>
  <script>
    window.__ACOUNTPAY_API_URL__ = 'https://acount-apis-7886a9e16dc3.herokuapp.com';
    window.__ACOUNTPAY_ENV__ = 'sandbox';
  </script>
  <script src="https://unpkg.com/@acountpay/sdk@1.0.2/dist/acount.umd.js"></script>
</head>
<body>
  <button onclick="pay()">Pay with AcountPay</button>
  <script>
    const sdk = new Acount({ 
      clientId: 'your-client-id',
      env: 'sandbox'
    });
    
    async function pay() {
      await sdk.initiateUserPaymentByEmail({
        amount: 1,
        requestId: 'PAY' + Date.now(),
        callbackURL: 'https://your-callback-url.com'
      });
    }
  </script>
</body>
</html>
```

### React Component

```javascript
import { useEffect, useState } from 'react';
import AcountPay from '@acountpay/sdk';

export function PayButton() {
  const [sdk, setSdk] = useState(null);

  useEffect(() => {
    const acountSdk = new AcountPay({
      clientId: process.env.REACT_APP_ACOUNTPAY_CLIENT_ID,
      env: process.env.REACT_APP_ACOUNTPAY_ENV || 'production',
    });
    setSdk(acountSdk);
  }, []);

  const handlePay = async () => {
    if (!sdk) return;
    
    await sdk.initiateUserPaymentByEmail({
      amount: 1,
      requestId: 'PAY' + Date.now(),
      callbackURL: process.env.REACT_APP_ACOUNTPAY_REDIRECT_URI,
    });
  };

  return <button onClick={handlePay}>Pay with AcountPay</button>;
}
```

Next: [Initialize Payment](/sdk/initialize_payment)
